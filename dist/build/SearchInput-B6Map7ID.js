import{r as a,v as R,a as j,w as C,j as r,S as I,c as q,I as T,F as y}from"./strapi-BzBNZjpz.js";const B=({disabled:d,label:g,placeholder:h,trackedEvent:o,trackedEventDetails:m})=>{const t=a.useRef(null),p=a.useRef(null),[{query:S},n]=R(),[s,c]=a.useState(S?._q||""),[l,u]=a.useState(!!s),{formatMessage:f}=j(),{trackUsage:b}=C(),i=()=>u(e=>!e);a.useLayoutEffect(()=>{l&&t.current&&t.current.focus()},[l]);const x=()=>{c(""),n({_q:""},"remove")},v=e=>{e.preventDefault(),s?(o&&b(o,m),n({_q:encodeURIComponent(s),page:1})):(i(),n({_q:""},"remove"))};return l?r.jsx(I,{onSubmit:v,children:r.jsx(q,{ref:t,name:"search",onChange:e=>c(e.target.value),value:s,clearLabel:f({id:"clearLabel",defaultMessage:"Clear"}),onClear:x,placeholder:h,onBlur:e=>{!e.currentTarget.contains(e.relatedTarget)&&e.currentTarget.value===""&&u(!1)},children:g})}):r.jsx(T,{ref:p,disabled:d,label:f({id:"global.search",defaultMessage:"Search"}),onClick:i,children:r.jsx(y,{})})};export{B as S};
